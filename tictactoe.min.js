"use strict";const player1=new Player(1,"Bob"),player2=new Player(2,"Andr√©");let emptyBoard=[["","",""],["","",""],["","",""]],symbolTurn="X",scoreP1=0,scoreP2=0,roundWonP1=0,roundWonP2=0;function changeName(e){const n=prompt("Please enter your name : ");switch(e.target.id){case"changeName1":player1.name=n,player1.displayName();break;case"changeName2":player2.name=n,player2.displayName()}}function drawBoard(){const e=document.querySelector(".gameboard");for(;e.hasChildNodes();)e.removeChild(e.firstChild);let n=1;for(let r=0;r<emptyBoard.length;r++)for(let t=0;t<emptyBoard[r].length;t++){const i=document.createElement("div");i.id=n,i.className="cell cell-"+n,i.innerText=emptyBoard[r][t],e.appendChild(i),n++}play()}function fillCell(e){switch(e.target.id){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":""===e.target.innerHTML&&"X"===symbolTurn?(e.target.innerHTML=symbolTurn,symbolTurn="O"):""===e.target.innerHTML&&"O"===symbolTurn&&(e.target.innerHTML=symbolTurn,symbolTurn="X")}hasWon()}function play(){const e=document.querySelectorAll(".cell");for(let n=0;n<e.length;n++)e[n].addEventListener("click",fillCell)}function Player(e,n){this.playerId=e,this.name=n,this.displayName=function(){document.querySelector(`.player-${this.playerId}-name`).innerHTML=this.name}}player1.displayName(),player2.displayName(),drawBoard();const buttonChangeName=document.querySelectorAll(".changeName");for(let e=0;e<buttonChangeName.length;e++)buttonChangeName[e].addEventListener("click",changeName);function restart(){emptyBoard=[["","",""],["","",""],["","",""]],symbolTurn="X",scoreP1=0,scoreP2=0,document.querySelector(".winner").style.display="none",drawBoard()}function next(){emptyBoard=[["","",""],["","",""],["","",""]],symbolTurn="X",document.querySelector(".winner").style.display="none",drawBoard()}const restartButton=document.querySelector(".restartBtn");function hasWon(){const e=document.querySelectorAll(".cell"),n=document.querySelector(".winner");if("X"===e[0].innerHTML&&"X"===e[1].innerHTML&&"X"===e[2].innerHTML||"X"===e[3].innerHTML&&"X"===e[4].innerHTML&&"X"===e[5].innerHTML||"X"===e[6].innerHTML&&"X"===e[7].innerHTML&&"X"===e[8].innerHTML||"X"===e[0].innerHTML&&"X"===e[3].innerHTML&&"X"===e[6].innerHTML||"X"===e[1].innerHTML&&"X"===e[4].innerHTML&&"X"===e[7].innerHTML||"X"===e[2].innerHTML&&"X"===e[5].innerHTML&&"X"===e[8].innerHTML||"X"===e[0].innerHTML&&"X"===e[4].innerHTML&&"X"===e[8].innerHTML||"X"===e[2].innerHTML&&"X"===e[4].innerHTML&&"X"===e[6].innerHTML){n.innerHTML=`${player1.name} has won this round !`;const r=document.createElement("button");r.className="nextRound",r.innerHTML="Next Round",n.appendChild(r),n.style.display="flex",r.addEventListener("click",next),scoreP1++,document.getElementById("scoreP1").innerHTML=`Score : ${scoreP1}`;for(let n=0;n<e.length;n++)e[n].removeEventListener("click",fillCell)}else if("O"===e[0].innerHTML&&"O"===e[1].innerHTML&&"O"===e[2].innerHTML||"O"===e[3].innerHTML&&"O"===e[4].innerHTML&&"O"===e[5].innerHTML||"O"===e[6].innerHTML&&"O"===e[7].innerHTML&&"O"===e[8].innerHTML||"O"===e[0].innerHTML&&"O"===e[3].innerHTML&&"O"===e[6].innerHTML||"O"===e[1].innerHTML&&"O"===e[4].innerHTML&&"O"===e[7].innerHTML||"O"===e[2].innerHTML&&"O"===e[5].innerHTML&&"O"===e[8].innerHTML||"O"===e[0].innerHTML&&"O"===e[4].innerHTML&&"O"===e[8].innerHTML||"O"===e[2].innerHTML&&"O"===e[4].innerHTML&&"O"===e[6].innerHTML){n.innerHTML=`${player2.name} has won this round !`;const r=document.createElement("button");r.className="nextRound",r.innerHTML="Next Round",n.appendChild(r),n.style.display="flex",r.addEventListener("click",next),scoreP2++,document.getElementById("scoreP2").innerHTML=`Score : ${scoreP2}`;for(let n=0;n<e.length;n++)e[n].removeEventListener("click",fillCell)}else if(""!==e[0].innerHTML&&""!==e[1].innerHTML&&""!==e[2].innerHTML&&""!==e[3].innerHTML&&""!==e[4].innerHTML&&""!==e[5].innerHTML&&""!==e[6].innerHTML&&""!==e[7].innerHTML&&""!==e[8].innerHTML){n.innerHTML="It's a tie !";const r=document.createElement("button");r.className="nextRound",r.innerHTML="Next Round",n.appendChild(r),n.style.display="flex",r.addEventListener("click",next);for(let n=0;n<e.length;n++)e[n].removeEventListener("click",fillCell)}3===scoreP1?(n.innerHTML=`${player1.name} has won the game. Congratulations !!!`,n.style.fontSize="1.5rem",n.style.fontWeight="bold"):3===scoreP2&&(n.innerHTML=`${player2.name} has won the game. Congratulations !!!`,n.style.fontSize="1.5rem",n.style.fontWeight="bold")}restartButton.addEventListener("click",restart);